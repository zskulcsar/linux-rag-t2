# CLI Checklist: Local Linux RAG CLI

**Purpose**: Validate requirements quality for `ragman` query responses and `ragadmin` source management workflows.
**Created**: 2025-11-02
**Feature**: specs/001-rag-cli/spec.md

**Note**: This checklist is generated by the `/speckit.checklist` command based on feature context and requirements.

## Requirement Completeness

- [x] CHK001 Are `ragman` output requirements covering Summary, Steps, and References sections across markdown, plain, and JSON modes so implementers do not infer structure? [Completeness, Spec §FR-002]
- [x] CHK002 Are all user-facing `ragman` flags (`--plain`, `--json`, `--context-tokens`, `--conversation`) defined with required behaviours and defaults? [Completeness, Spec §FR-002; Spec §Operational Details]
- [x] CHK003 Are catalog metadata fields expected after `ragadmin sources list/add/update/remove` documented (type, location, alias, last updated, size, language, status)? [Completeness, Spec §FR-003; Spec §FR-006; Data-Model §KnowledgeSource]
- [x] CHK004 Are audit logging obligations for each `ragadmin` action captured so no command omits required ledger fields? [Completeness, Spec §FR-008; Data-Model §AuditLogEntry]

## Requirement Clarity

- [x] CHK005 Is the confidence fallback message specified with exact text and threshold linkage between FR-002 and FR-012? [Clarity, Spec §FR-002; Spec §FR-012]
- [x] CHK006 Are alias generation and immutability rules (auto-derivation, collision suffixing, no overrides) precise enough to prevent conflicting admin expectations? [Clarity, Spec §Clarifications 2025-10-30; Spec §FR-006]
- [x] CHK007 Do requirements spell out which source attributes `ragadmin sources update` may modify versus remain read-only? [Clarity, Gap]
- [x] CHK008 Is the English-only scope for queries and sources documented so CLI behaviour on other languages is unambiguous? [Clarity, Spec §Clarifications 2025-10-30; Spec §Assumptions]

## Requirement Consistency

- [x] CHK009 Do `ragman` index gating rules align with User Story 1 outcomes to ensure blocked queries provide consistent guidance? [Consistency, Spec §FR-007; Spec §User Story 1]
- [x] CHK010 Are alias usage rules consistent between clarifications and the KnowledgeSource data model (unique, fixed alias)? [Consistency, Spec §Clarifications 2025-10-30; Data-Model §KnowledgeSource]
- [x] CHK011 Do presentation defaults in the config schema (`presenter_default`, `output_default`) align with described CLI behaviours? [Consistency, Spec §FR-012; Spec §Operational Details]

## Acceptance Criteria Quality

- [x] CHK012 Can User Story 1 acceptance scenarios be objectively evaluated using the defined output structure, citation requirements, and low-confidence messaging? [Acceptance Criteria, Spec §User Story 1; Spec §FR-002]
- [x] CHK013 Do User Story 2 acceptance scenarios specify measurable success signals for reindex progress and catalog updates consistent with FR-004 and operational notes? [Acceptance Criteria, Spec §User Story 2; Spec §FR-004; Spec §Operational Details]

## Scenario Coverage

- [x] CHK014 Are requirements covering how `ragman` responds when the knowledge base lacks relevant content, including the guidance users receive? [Coverage, Spec §User Story 1; Spec §FR-002]
- [x] CHK015 Are administrative flows documented for handling corrupted or missing sources, including quarantine and remediation expectations? [Coverage, Spec §Edge Cases; Spec §FR-006]
- [x] CHK016 Do requirements define how interrupted reindex jobs resume or restart to ensure continuity after failures? [Coverage, Spec §Edge Cases; Spec §FR-004]

## Edge Case Coverage

- [x] CHK017 Is the behaviour for queries exceeding context limits clearly documented, including the truncation warning contents? [Edge Case, Spec §Edge Cases]
- [x] CHK018 Are disk space shortage responses for ingestion or indexing spelled out with expectations for abort messaging and data integrity? [Edge Case, Spec §Edge Cases]

## Dependencies & Assumptions

- [x] CHK019 Does `ragadmin init` clearly enumerate dependency probes for Weaviate and Ollama, including readiness criteria before seeding defaults? [Dependencies, Spec §Clarifications 2025-10-31; Spec §FR-005]
- [x] CHK020 Are offline operation boundaries (no external calls after setup) documented to set expectations for both CLIs? [Dependencies, Spec §FR-010; Spec §Assumptions]

## Ambiguities & Conflicts

- [x] CHK021 Is there guidance clarifying how multiple citations per alias should be rendered or deduplicated in CLI outputs, or is this a documented gap? [Ambiguity, Gap]
